I want to analyze the relative performance of competitors in fencing. An example question I want to be able to answer is "what is the win rate of a B-rated men's epee fencer against an A-rated women's epee fencer?"

Here is my plan to address these questions:

1) MANUAL INSPECTION: Before building the scraper, manually inspect a few fencingtracker.com tournament pages and fencer history pages to confirm that all required data fields (ELO, rating, gender, weapon, bout scores) are present and consistently formatted. Document the page structure and any inconsistencies.

2) INITIAL DATA PULL (SMALL SCALE): Pull data for 3 fencingtracker.com tournaments that took place in January 2026 by creating a python scraper and storing the tournament data as a CSV in the Claude_project directory. Focus on large, national-level or regional events to maximize the number of cross-rating matchups. Respect the site's terms of service and rate limits (include delays between requests, check robots.txt). This small initial pull is to validate the scraping and analysis pipeline before scaling up.

3) ENRICHMENT: Enrich this event-level data using data from each fencer's history page on fencingtracker to provide information on a bout level. Cache fencer history pages to avoid redundant fetches, and handle errors gracefully (missing pages, incomplete histories). For each bout, we want to know:
   - Who won
   - What kind of bout took place (pool or direct elimination)
   - The gender of each fencer
   - What weapon was fenced
   - The USFA letter rating of each fencer (letter only, e.g. A/B/C/D/E/U — ignore year component for now)
   - The ELO of each fencer at the time of the tournament (not their current ELO, if that distinction is available)
   - The score of the bout (if available), to enable margin-of-victory analysis
   - Fencer age division if available (Veteran, Senior, Junior, Cadet, etc.)

4) STORAGE: Store the bout-level data in a CSV in the same directory. Include a unique bout ID and tournament ID for each row. Create a schema file (schema.txt) documenting each column, its type, and valid values.

5) VALIDATION: Review the output from the 3-tournament pull. Confirm data quality, check for missing fields, and verify that the pipeline works end-to-end before scaling up.

6) SCALE UP: Once validated, expand the pull to 30-50 tournaments across a broader time range (e.g., October 2025 – January 2026) to reduce seasonal bias and build a sample large enough for meaningful analysis. Target a minimum of 10,000 bouts.

7) SUMMARY STATISTICS: Summarize the data:
   - How many events took place and across which weapons?
   - How many fencers participated?
   - What was the rating distribution of the fencers?
   - What was the ELO distribution (histogram)?
   - How many bouts took place between men, between women, and were mixed-gender?
   - Bout counts per rating matchup (e.g., how many A-vs-B bouts?) — flag any cells with fewer than 20 bouts as unreliable.
   - Score differentials in DE bouts (margin of victory distribution).
   - Geographic distribution of tournaments, if available.

8) CROSS TABS AND MODELS:
   a) Rating cross tabs: Create tables showing the win percentage for a given letter rating against all other letter ratings, for each weapon. Produce three tables per weapon: men vs men, women vs women, and mixed-gender. Include sample size in each cell and flag cells with fewer than 20 bouts.
   b) ELO cross tabs: Summarize ELO-vs-ELO win rates using 100-point ELO bins (e.g., 1800-1899 vs 2000-2099). Make these conditional on weapon and gender matchup. Include sample sizes.
   c) Logistic regression: Fit a simple model — P(win) ~ ELO_diff + weapon + gender_matchup — to generate smooth win probability estimates for any combination, especially where cross-tab cells are sparse.

9) VISUALIZATIONS:
   - Heatmaps for rating-vs-rating win probability (one per weapon/gender combo)
   - Line plots for P(win) as a function of ELO difference
   - Bar charts for summary statistics
   - Color-code or annotate all charts by sample size reliability

10) ADDITIONAL ANALYSES (if data permits):
   - Upset analysis: How often does the lower-rated/ELO fencer win? Which rating gaps produce the most upsets?
   - Pool vs DE comparison: Do upset rates differ between pool bouts (to 5) and DE bouts (to 15)?
   - Rating system accuracy: How well does USFA letter rating predict outcomes compared to ELO?
   - Seeding vs outcome: In DE brackets, how often does the higher seed win? Does this vary by weapon?
